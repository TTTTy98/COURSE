import{u as C}from"./user.7b6c1c40.js";import{l as N}from"./icon.1fcb572f.js";import{_ as F,g as J,r as _,a as L,b as l,o as P,c as q,d as e,w as t,u as B,e as u,f,E as m,p as E,h as M}from"./index.6435504a.js";import"./axios.b07f2b9a.js";const T=r=>(E("data-v-192ced62"),r=r(),M(),r),$=T(()=>f("p",{class:"title"},"Marvelous Miracle",-1)),z={__name:"Login",setup(r){const{proxy:g}=J(),s=_({upi:"",password:""}),a=L(),v=_({upi:[{required:!0,message:"The upi cannot be empty!",trigger:"blur"}],password:[{required:!0,message:"The Password cannot be empty!",trigger:"blur"}]}),y=()=>{!a||a.value.validate(async c=>{if(c)C.login(s).then(o=>{if(!o.data.user){m.error(o.data.remark);return}g.$commonJs.changeView("/home"),m.success("Welcome!"),console.log(JSON.stringify(o.data.user)),sessionStorage.setItem("user",JSON.stringify(o.data.user))});else return!1})},w=()=>{!a||a.value.resetFields()};return(c,o)=>{const b=l("el-avatar"),d=l("el-input"),p=l("el-form-item"),i=l("el-button"),V=l("el-form"),x=l("el-card"),h=l("el-main"),k=l("el-tag"),S=l("el-footer"),I=l("el-container");return P(),q("div",null,[e(I,null,{default:t(()=>[e(h,null,{default:t(()=>[e(x,{class:"login_card"},{default:t(()=>[e(b,{shape:"square",size:100,src:B(N),style:{position:"absolute",left:"0%",top:"-17%"}},null,8,["src"]),e(V,{model:s,rules:v,ref_key:"ruleFormRef",ref:a,"label-width":"80px"},{default:t(()=>[$,e(p,{label:"upi\uFF1A",prop:"upi"},{default:t(()=>[e(d,{modelValue:s.upi,"onUpdate:modelValue":o[0]||(o[0]=n=>s.upi=n),placeholder:"Please enter upi"},null,8,["modelValue"])]),_:1}),e(p,{label:"Password\uFF1A",prop:"password"},{default:t(()=>[e(d,{type:"password",placeholder:"Please enter password",modelValue:s.password,"onUpdate:modelValue":o[1]||(o[1]=n=>s.password=n)},null,8,["modelValue"])]),_:1}),e(p,null,{default:t(()=>[e(i,{type:"primary",onClick:o[2]||(o[2]=n=>y())},{default:t(()=>[u("Login")]),_:1}),e(i,{type:"primary",onClick:o[3]||(o[3]=n=>w())},{default:t(()=>[u("reset")]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1}),e(S,null,{default:t(()=>[f("p",null,[u("contact us"),e(k,null,{default:t(()=>[u("nxia585@aucklanduni.ac.nz")]),_:1})])]),_:1})]),_:1})])}}},W=F(z,[["__scopeId","data-v-192ced62"]]);export{W as default};

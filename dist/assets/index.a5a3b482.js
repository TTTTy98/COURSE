import{i as I,y as N,a as d,k as S,r as L,b as o,o as R,c as U,d as e,w as n,u as f,l as M,v as D,e as b,z as w,E as l}from"./index.6435504a.js";import{u as m}from"./user.7b6c1c40.js";import"./axios.b07f2b9a.js";const F={__name:"index",setup(V){I();const y=N(),c=d(!1),{query:{classId:W,major:i,studentId:p}}=y;S(()=>{JSON.parse(sessionStorage.getItem("user")).userType==0?c.value=!1:c.value=!0,u({major:i,studnetId:p})});let g=d([]),x=d(0);const r=L({current:1,size:10,name:""}),u=a=>{m.getrecordList(a).then(s=>{g.value=s.data})},v=a=>{r.size=a,getUserList()},C=a=>{r.current=a,getUserList()},z=a=>{w.confirm("delete this application?",{confirmButtonText:"sure",cancelButtonText:"cancel",type:"warning"}).then(async()=>{m.deleteRecord(a).then(s=>{s.data.resultCode=="success"&&(l.success("delete success!"),u({major:i,studnetId:p}))})}).catch(()=>{l({type:"info",message:"cancel"})})},k=a=>{w.confirm("agree this application?",{confirmButtonText:"sure",cancelButtonText:"cancel",type:"success"}).then(async()=>{m.agreeRecord(a).then(s=>{s.data.resultCode=="success"&&(l.success("success!"),u({major:i,studnetId:p}))})}).catch(()=>{l({type:"info",message:"cancel"})})};return(a,s)=>{const t=o("el-table-column"),h=o("el-button"),T=o("el-table"),j=o("el-pagination"),B=o("el-card");return R(),U("div",null,[e(B,null,{default:n(()=>[e(T,{data:f(g),border:"",style:{width:"100%","margin-top":"20px"}},{default:n(()=>[e(t,{prop:"major",label:"major",width:"180"}),e(t,{prop:"studentName",label:"studentName",width:"180"}),e(t,{prop:"gpa",label:"gpa",width:"180",sortable:""}),e(t,{prop:"grade",label:"grade",width:"180",sortable:""}),e(t,{prop:"studyType",label:"studyType",width:"180"}),e(t,{prop:"email",label:"email",width:"180"}),e(t,{prop:"phone",label:"phone",width:"180"}),e(t,{prop:"maxWorkload",label:"maxWorkload",width:"180",sortable:""}),e(t,{prop:"previousExperience",label:"previousExperience",width:"250"}),e(t,{label:"operate",width:"300"},{default:n(_=>[M(e(h,{type:"success",size:"small",onClick:E=>k(_.row.id)},{default:n(()=>[b("agree")]),_:2},1032,["onClick"]),[[D,c.value]]),e(h,{type:"danger",size:"small",onClick:E=>z(_.row.id)},{default:n(()=>[b("delete")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(j,{style:{"margin-top":"20px"},"current-page":r.current,"page-size":r.size,"page-sizes":[10,20,30,40],layout:"->, sizes, prev, pager, next, jumper",total:f(x),onSizeChange:v,onCurrentChange:C},null,8,["current-page","page-size","total"])]),_:1})])}}};export{F as default};

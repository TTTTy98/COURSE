/* empty css                                                         */import{_ as A,a as b,b as s,o as k,c as $,d as e,w as l,E as I,p as F,h as q,f as h,e as c,m as E,i as G,y as T,r as O}from"./index.6435504a.js";import{u as M}from"./user.7b6c1c40.js";import"./axios.b07f2b9a.js";const z=d=>(F("data-v-af3e5058"),d=d(),q(),d),D={class:"upload-box"},R=z(()=>h("div",{class:"el-upload__text"},[c(" Drop file here or "),h("em",null,"click to upload")],-1)),W={__name:"uploadCourseFile",setup(d){const m=`https://82066id128.yicp.fun/upload?fileType=1&resourceId=${b(Math.floor(Math.random()*1e3)).value}`,v=i=>i.type!=="application/pdf"?(I.error("pdf only!"),!1):i.size/1024/1024>2?(I.error("Avatar picture size can not exceed 2MB!"),!1):!0;return(i,f)=>{const a=s("upload-filled"),_=s("el-icon"),g=s("el-upload");return k(),$("div",D,[e(g,{class:"upload-demo",drag:"","before-upload":v,"show-file-list":!0,action:m,multiple:""},{default:l(()=>[e(_,{class:"el-icon--upload"},{default:l(()=>[e(a)]),_:1}),R]),_:1})])}}},B=A(W,[["__scopeId","data-v-af3e5058"]]),Y={__name:"gradeList",emits:["chooseGrade"],setup(d,{emit:y}){const m=b(""),v=b({}),i=b([{value:"6",label:"A+"},{value:"5",label:"A"},{value:"4",label:"A-"},{value:"3",label:"B+"},{value:"2",label:"B"},{value:"1",label:"B-"},{value:"0",label:"No Grade"}]),f=a=>{v.value=a,y("chooseGrade",a.value)};return(a,_)=>{const g=s("el-radio"),x=s("el-table-column"),w=s("el-table");return k(),E(w,{data:i.value,height:"200",border:""},{default:l(()=>[e(x,{width:"100",align:"center"},{default:l(u=>[e(g,{modelValue:m.value,"onUpdate:modelValue":_[0]||(_[0]=o=>m.value=o),label:u.row.label,onInput:o=>f(u.row)},{default:l(()=>[c("\xA0")]),_:2},1032,["modelValue","label","onInput"])]),_:1}),e(x,{align:"center",prop:"value",label:"grade",width:"300"})]),_:1},8,["data"])}}};const j={class:"grade-list-box"},H={style:{position:"absolute",left:"50%",transform:"translate(-50%)","margin-top":"30px"}},L={__name:"CourseForm",props:{readOnly:{type:Boolean,require:!1,default:!1}},setup(d){const y=G(),m=T(),{query:{classId:v,major:i}}=m;b("default");const f=b(),a=O({}),_=O({studentName:[{required:!0,message:"Please input",trigger:"blur"}],studentId:[{required:!0,message:"Please input",trigger:"blur"}],email:[{required:!0,message:"Please input",trigger:"blur"}],phone:[{required:!0,message:"Please input",trigger:"blur"}]}),g=async u=>{u.classId=v,u.major=i,u.offshoreStudent=u.offshoreStudent=="Yes"?1:0,u&&await f.value.validate((o,p)=>{o?M.recordSave(u).then(r=>{I.success("Success!"),y.push("/index")}):console.log("error submit!",p)})},x=u=>{a.grade=u},w=()=>{y.push("/index")};return(u,o)=>{const p=s("el-input"),r=s("el-form-item"),n=s("el-col"),C=s("el-row"),V=s("el-radio"),U=s("el-radio-group"),N=s("el-text"),S=s("el-button"),P=s("el-form");return k(),E(P,{ref_key:"ruleFormRef",ref:f,model:a,rules:_,"label-width":"120px",class:"demo-ruleForm",size:u.large,"status-icon":""},{default:l(()=>[e(C,null,{default:l(()=>[e(n,{span:12},{default:l(()=>[e(r,{label:"Name",prop:"studentName"},{default:l(()=>[e(p,{disable:d.readOnly,modelValue:a.studentName,"onUpdate:modelValue":o[0]||(o[0]=t=>a.studentName=t)},null,8,["disable","modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:l(()=>[e(r,{label:"Upi",prop:"studentId"},{default:l(()=>[e(p,{disable:d.readOnly,modelValue:a.studentId,"onUpdate:modelValue":o[1]||(o[1]=t=>a.studentId=t)},null,8,["disable","modelValue"])]),_:1})]),_:1})]),_:1}),e(C,null,{default:l(()=>[e(n,{span:12},{default:l(()=>[e(r,{label:"Email",prop:"email"},{default:l(()=>[e(p,{disable:d.readOnly,type:"email",modelValue:a.email,"onUpdate:modelValue":o[2]||(o[2]=t=>a.email=t)},null,8,["disable","modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:l(()=>[e(r,{label:"Phone",prop:"phone"},{default:l(()=>[e(p,{disable:d.readOnly,type:"number",modelValue:a.phone,"onUpdate:modelValue":o[3]||(o[3]=t=>a.phone=t)},null,8,["disable","modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:l(()=>[e(r,{"label-width":"250",label:"Are you a offshore student?",prop:"offshoreStudent"},{default:l(()=>[e(U,{disable:d.readOnly,modelValue:a.offshoreStudent,"onUpdate:modelValue":o[4]||(o[4]=t=>a.offshoreStudent=t)},{default:l(()=>[e(V,{label:"Yes",value:"1"}),e(V,{label:"No",value:"0"})]),_:1},8,["disable","modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:l(()=>[e(r,{"label-width":"120",label:"Study type",prop:"studyType"},{default:l(()=>[e(U,{disable:d.readOnly,modelValue:a.studyType,"onUpdate:modelValue":o[5]||(o[5]=t=>a.studyType=t)},{default:l(()=>[e(V,{label:"undergraduate",value:"undergraduate"}),e(V,{label:"postgraduate",value:"postgraduate"}),e(V,{label:"doctor",value:"doctor"})]),_:1},8,["disable","modelValue"])]),_:1})]),_:1}),e(n,{span:24},{default:l(()=>[e(r,{label:"What is your GPA?","label-width":"200",prop:"gpa"},{default:l(()=>[e(p,{disable:d.readOnly,class:"short",type:"number",modelValue:a.gpa,"onUpdate:modelValue":o[6]||(o[6]=t=>a.gpa=t)},null,8,["disable","modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:l(()=>[e(N,{class:"mx-1",type:"info",style:{"margin-left":"20px"}},{default:l(()=>[c("Upload CV(PDF only)")]),_:1}),e(B)]),_:1}),e(n,{span:12},{default:l(()=>[e(N,{class:"mx-1",type:"info",style:{"margin-left":"20px"}},{default:l(()=>[c("Academic Transcript upload\uFF08 PDF only\uFF09")]),_:1}),e(B)]),_:1}),e(n,{span:12},{default:l(()=>[e(r,{label:"Your grade when taken","label-width":"200",prop:"grade"},{default:l(()=>[h("div",j,[e(Y,{onChooseGrade:x})])]),_:1})]),_:1}),e(n,{span:12},{default:l(()=>[e(r,{label:"previousExperience","label-width":"200",prop:"previousExperience"},{default:l(()=>[e(p,{type:"textarea",disable:d.readOnly,modelValue:a.previousExperience,"onUpdate:modelValue":o[7]||(o[7]=t=>a.previousExperience=t)},null,8,["disable","modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:l(()=>[e(r,{label:"How many courses do you have this season?","label-width":"400",prop:"courses"},{default:l(()=>[e(p,{disable:d.readOnly,class:"short",type:"number",modelValue:a.courses,"onUpdate:modelValue":o[8]||(o[8]=t=>a.courses=t)},null,8,["disable","modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:l(()=>[e(r,{label:"Max work hour per week?","label-width":"200",prop:"maxWorkload"},{default:l(()=>[e(p,{disable:d.readOnly,class:"short",type:"number",modelValue:a.maxWorkload,"onUpdate:modelValue":o[9]||(o[9]=t=>a.maxWorkload=t)},null,8,["disable","modelValue"])]),_:1})]),_:1})]),_:1}),h("div",H,[e(S,{onClick:o[10]||(o[10]=t=>w(f.value))},{default:l(()=>[c("Back")]),_:1}),e(S,{type:"primary",onClick:o[11]||(o[11]=t=>g(a))},{default:l(()=>[c(" Submit ")]),_:1})])]),_:1},8,["model","rules","size"])}}},Z=A(L,[["__scopeId","data-v-997661d5"]]);export{Z as default};
